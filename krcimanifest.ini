[Options]
MinVer   = 0.1
Client   = SquareEnix Client
Patch	 = Kujata Reborn Patch
Xiloader = DSP XiLoader
Launcher = Ashita
Launcher = Windower

[Client]
Required          = Yes
Exclusive         = Yes
SquareEnix Client = https://gdl.square-enix.com/ffxi/download/us/FFXIFullSetup_US.part1.exe
SquareEnix Client = https://gdl.square-enix.com/ffxi/download/us/FFXIFullSetup_US.part2.rar
SquareEnix Client = https://gdl.square-enix.com/ffxi/download/us/FFXIFullSetup_US.part3.rar
SquareEnix Client = https://gdl.square-enix.com/ffxi/download/us/FFXIFullSetup_US.part4.rar
SquareEnix Client = https://gdl.square-enix.com/ffxi/download/us/FFXIFullSetup_US.part5.rar
Action            = {tmp}\FFXIFullSetup_US.part1.exe -s2
Action            = msiexec /passive INSTALLDIR="{app}" /i {tmp}\FFXIFullSetup_US\PlayOnline\PlayOnlineViewer.msi
Action            = msiexec /passive INSTALLDIR="{app}" /i {tmp}\FFXIFullSetup_US\FINAL_FANTASY_XI\FINAL_FANTASY_XI.msi
Action            = PowerShell -Command "Add-Type -AssemblyName PresentationFramework;[System.Windows.MessageBox]::Show('Your Final Fantasy XI installation needs to be updated by PlayOnline. The PlayOnlineViewer will launch. Please go through the update steps and then exit once the update is complete.')"
Action            = {app}\SquareEnix\PlayOnlineViewer\pol.exe
Action            = PowerShell -Command "Add-Type -AssemblyName PresentationFramework;[System.Windows.MessageBox]::Show('At this point, your FFXI client should be fully updated, but the PlayOnlineViewer may need to restart 1-2 times. Once you see a registration screen in the PlayOnlineViewer, cancel out of that and then click OK on this Message Box. Please do not click OK until you reach that point.')"

[Patch]
Required            = Yes
Exclusive           = Yes
Extension           = zip
Kujata Reborn Patch = https://www.dropbox.com/s/4b3dwt5gj85dt6u/Installer.zip?dl=1
Action              = tar -xf "{tmp}\Kujata Reborn Patch.zip"
Action              = "{tmp}\Kujata Reborn Patch\Patch.exe" -o"{app}\SquareEnix\Final Fantasy XI\" -y
Action              = regsvr32 "{app}\SquareEnix\Final Fantasy XI\FFXi.dll" /s
Action              = regsvr32 "{app}\SquareEnix\Final Fantasy XI\FFXiMain.dll" /s
Action              = regsvr32 "{app}\SquareEnix\Final Fantasy XI\FFXiVersions.dll" /s
Action              = regsvr32 "{app}\PlayOnlineViewer\viewer\ax\polmvfINT.dll" /s
Action              = regsvr32 "{app}\PlayOnlineViewer\viewer\com\app.dll" /s
Action              = regsvr32 "{app}\PlayOnlineViewer\viewer\com\polcore.dll" /s
Action              = regsvr32 "{app}\PlayOnlineViewer\viewer\contents\polcontentsINT.dll" /s

[Xiloader]
Required     = Yes
Exclusive    = Yes
DSP XiLoader = https://github.com/DarkstarProject/xiloader/releases/download/v1.0.5/xiloader.exe
Action       = xcopy {tmp}\xiloader.exe {app}\SquareEnix\PlayOnlineViewer\xiloader.exe

[Launcher]
Required  = No
Exclusive = No
Ashita    = https://git.ashitaxi.com/Ashita/Ashitav3-Launcher/raw/master/Ashita.exe
Windower  = http://update.windower.net/live/Windower.exe